<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
<title>Cappuccino: Foundation/CPSet.j Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.5.9-20090622 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false);
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" 
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange()"/>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>Foundation/CPSet.j</h1><a href="_c_p_set_8j.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * CPSet.j</span>
<a name="l00003"></a>00003 <span class="comment"> * Foundation</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Created by Bailey Carlson</span>
<a name="l00006"></a>00006 <span class="comment"> * Extended by Ross Boucher</span>
<a name="l00007"></a>00007 <span class="comment"> * Extended by Nabil Elisa</span>
<a name="l00008"></a>00008 <span class="comment"> * </span>
<a name="l00009"></a>00009 <span class="comment"> * TODO: Needs to implement CPCoding, CPCopying.</span>
<a name="l00010"></a>00010 <span class="comment"> */</span>
<a name="l00011"></a>00011  
<a name="l00012"></a>00012 @<span class="keyword">import</span> <span class="stringliteral">&quot;CPObject.j&quot;</span>
<a name="l00013"></a>00013 @<span class="keyword">import</span> <span class="stringliteral">&quot;CPArray.j&quot;</span>
<a name="l00014"></a>00014 @<span class="keyword">import</span> <span class="stringliteral">&quot;CPNumber.j&quot;</span>
<a name="l00015"></a>00015 @<span class="keyword">import</span> <span class="stringliteral">&quot;CPEnumerator.j&quot;</span>
<a name="l00016"></a>00016 
<a name="l00020"></a><a class="code" href="class_c_p_set.html">00020</a> <span class="keyword">@implementation </span><a class="code" href="class_c_p_set.html">CPSet</a> : <a class="code" href="class_c_p_object.html">CPObject</a>
<a name="l00021"></a>00021 {
<a name="l00022"></a>00022     Object      _contents;
<a name="l00023"></a>00023     <span class="keywordtype">unsigned</span>    _count;
<a name="l00024"></a>00024 }
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">/*</span>
<a name="l00027"></a>00027 <span class="comment">    Creates and returns an empty set.</span>
<a name="l00028"></a>00028 <span class="comment">*/</span>
<a name="l00029"></a><a class="code" href="class_c_p_set.html#a89623be28c3a0913db1967b667874d39">00029</a> + (id)set
<a name="l00030"></a>00030 {
<a name="l00031"></a>00031     <span class="keywordflow">return</span> [[<span class="keyword">self</span> alloc] init];
<a name="l00032"></a>00032 }
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">/*</span>
<a name="l00035"></a>00035 <span class="comment">    Creates and returns a set containing a uniqued collection of those objects contained in a given array.</span>
<a name="l00036"></a>00036 <span class="comment">    @param anArray array containing the objects to add to the new set. If the same object appears more than once objects, it is added only once to the returned set.</span>
<a name="l00037"></a>00037 <span class="comment">*/</span>
<a name="l00038"></a><a class="code" href="class_c_p_set.html#aa1eded22a7180bd9cf4f07a85c6d058f">00038</a> + (id)setWithArray:(<a class="code" href="class_c_p_array.html">CPArray</a>)array
<a name="l00039"></a>00039 {
<a name="l00040"></a>00040     <span class="keywordflow">return</span> [[<span class="keyword">self</span> alloc] initWithArray:array];
<a name="l00041"></a>00041 }
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="comment">/*</span>
<a name="l00044"></a>00044 <span class="comment">    Creates and returns a set that contains a single given object.</span>
<a name="l00045"></a>00045 <span class="comment">    @param anObject The object to add to the new set.</span>
<a name="l00046"></a>00046 <span class="comment">*/</span>
<a name="l00047"></a><a class="code" href="class_c_p_set.html#aa7f397281f86ec0e441b5fa26230bb54">00047</a> + (id)setWithObject:(<span class="keywordtype">id</span>)anObject
<a name="l00048"></a>00048 {
<a name="l00049"></a>00049     <span class="keywordflow">return</span> [[<span class="keyword">self</span> alloc] initWithArray:[anObject]];
<a name="l00050"></a>00050 }
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="comment">/*</span>
<a name="l00053"></a>00053 <span class="comment">    Creates and returns a set containing a specified number of objects from a given array of objects.</span>
<a name="l00054"></a>00054 <span class="comment">    @param objects A array of objects to add to the new set. If the same object appears more than once objects, it is added only once to the returned set.</span>
<a name="l00055"></a>00055 <span class="comment">    @param count The number of objects from objects to add to the new set.</span>
<a name="l00056"></a>00056 <span class="comment">*/</span>
<a name="l00057"></a><a class="code" href="class_c_p_set.html#a01f863c9a6ce647c461d8908552c65f0">00057</a> + (id)setWithObjects:(<span class="keywordtype">id</span>)objects count:(<span class="keywordtype">unsigned</span>)count
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059     <span class="keywordflow">return</span> [[<span class="keyword">self</span> alloc] initWithObjects:objects count:count];
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">/*</span>
<a name="l00063"></a>00063 <span class="comment">    Creates and returns a set containing the objects in a given argument list.</span>
<a name="l00064"></a>00064 <span class="comment">    @param anObject The first object to add to the new set.</span>
<a name="l00065"></a>00065 <span class="comment">    @param ... A comma-separated list of objects, ending with nil, to add to the new set. If the same object appears more than once objects, it is added only once to the returned set. </span>
<a name="l00066"></a>00066 <span class="comment">*/</span>
<a name="l00067"></a><a class="code" href="class_c_p_set.html#a8126f63532db3f398c58c82b74bd54f0">00067</a> + (id)setWithObjects:(<span class="keywordtype">id</span>)anObject, ...
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069     var <span class="keyword">set</span> = [[<span class="keyword">self</span> alloc] init],
<a name="l00070"></a>00070         argLength = arguments.length,
<a name="l00071"></a>00071         i = 2;
<a name="l00072"></a>00072 
<a name="l00073"></a>00073     <span class="keywordflow">for</span>(; i &lt; argLength &amp;&amp; ((argument = arguments[i]) !== nil); ++i)
<a name="l00074"></a>00074         [<span class="keyword">set</span> addObject:argument];
<a name="l00075"></a>00075     
<a name="l00076"></a>00076     <span class="keywordflow">return</span> <span class="keyword">set</span>;
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="comment">/*</span>
<a name="l00080"></a>00080 <span class="comment">    Creates and returns a set containing the objects from another set.</span>
<a name="l00081"></a>00081 <span class="comment">    @param aSet A set containing the objects to add to the new set.</span>
<a name="l00082"></a>00082 <span class="comment">*/</span>
<a name="l00083"></a><a class="code" href="class_c_p_set.html#adade5f2f19be4d1bf434b3ec15a35734">00083</a> + (id)setWithSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00084"></a>00084 {
<a name="l00085"></a>00085     <span class="keywordflow">return</span> [[<span class="keyword">self</span> alloc] initWithSet:set];
<a name="l00086"></a>00086 }
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="comment">/*</span>
<a name="l00089"></a>00089 <span class="comment">    Basic initializer, returns an empty set</span>
<a name="l00090"></a>00090 <span class="comment">*/</span>
<a name="l00091"></a><a class="code" href="class_c_p_set.html#ad3e95a1d191fb88e3197c0655a24514f">00091</a> - (id)init
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093     <span class="keywordflow">if</span> (<span class="keyword">self</span> = [super init])
<a name="l00094"></a>00094     {
<a name="l00095"></a>00095         _count = 0;
<a name="l00096"></a>00096         _contents = {};
<a name="l00097"></a>00097     }
<a name="l00098"></a>00098     
<a name="l00099"></a>00099     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00100"></a>00100 }
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">/*</span>
<a name="l00103"></a>00103 <span class="comment">    Initializes a newly allocated set with the objects that are contained in a given array.</span>
<a name="l00104"></a>00104 <span class="comment">    @param array An array of objects to add to the new set. If the same object appears more than once in array, it is represented only once in the returned set.</span>
<a name="l00105"></a>00105 <span class="comment">*/</span>
<a name="l00106"></a><a class="code" href="class_c_p_set.html#a77a28c90e845347fea965d0ea7fd4417">00106</a> - (id)initWithArray:(<a class="code" href="class_c_p_array.html">CPArray</a>)anArray
<a name="l00107"></a>00107 {    
<a name="l00108"></a>00108     <span class="keywordflow">if</span> (<span class="keyword">self</span> = [<span class="keyword">self</span> init])
<a name="l00109"></a>00109     {
<a name="l00110"></a>00110         var count = anArray.length;
<a name="l00111"></a>00111         
<a name="l00112"></a>00112         <span class="keywordflow">while</span> (count--)
<a name="l00113"></a>00113             [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a96ef95142642fef4affe50849b7f5cae">addObject</a>:anArray[count]];
<a name="l00114"></a>00114     }
<a name="l00115"></a>00115     
<a name="l00116"></a>00116     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00117"></a>00117 }
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <span class="comment">/*</span>
<a name="l00120"></a>00120 <span class="comment">    Initializes a newly allocated set with members taken from the specified list of objects.</span>
<a name="l00121"></a>00121 <span class="comment">    @param objects A array of objects to add to the new set. If the same object appears more than once objects, it is added only once to the returned set. </span>
<a name="l00122"></a>00122 <span class="comment">    @param count The number of objects from objects to add to the new set.</span>
<a name="l00123"></a>00123 <span class="comment">*/</span>
<a name="l00124"></a><a class="code" href="class_c_p_set.html#a5312b54aad33a0165c44a2a6ef58be6d">00124</a> - (id)initWithObjects:(<span class="keywordtype">id</span>)objects count:(<span class="keywordtype">unsigned</span>)count
<a name="l00125"></a>00125 {
<a name="l00126"></a>00126     <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a77a28c90e845347fea965d0ea7fd4417">initWithArray</a>:objects.splice(0, count)];
<a name="l00127"></a>00127 }
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="comment">/*</span>
<a name="l00130"></a>00130 <span class="comment">    Initializes a newly allocated set with members taken from the specified list of objects.</span>
<a name="l00131"></a>00131 <span class="comment">    @param anObject The first object to add to the new set.</span>
<a name="l00132"></a>00132 <span class="comment">    @param ... A comma-separated list of objects, ending with nil, to add to the new set. If the same object appears more than once in the list, it is represented only once in the returned set.</span>
<a name="l00133"></a>00133 <span class="comment">*/</span>
<a name="l00134"></a><a class="code" href="class_c_p_set.html#afe601f6b1a7bd878a17c4b99289be7da">00134</a> - (id)initWithObjects:(<span class="keywordtype">id</span>)anObject, ...
<a name="l00135"></a>00135 {
<a name="l00136"></a>00136     <span class="keywordflow">if</span> (<span class="keyword">self</span> = [<span class="keyword">self</span> init])
<a name="l00137"></a>00137     {
<a name="l00138"></a>00138                 var argLength = arguments.length,
<a name="l00139"></a>00139                         i = 2;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141         <span class="keywordflow">for</span>(; i &lt; argLength &amp;&amp; (argument = arguments[i]) != nil; ++i)
<a name="l00142"></a>00142             [<span class="keyword">self</span> addObject:argument];
<a name="l00143"></a>00143     }
<a name="l00144"></a>00144     
<a name="l00145"></a>00145     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00146"></a>00146 }
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 <span class="comment">/*</span>
<a name="l00149"></a>00149 <span class="comment">    Initializes a newly allocated set and adds to it objects from another given set. Only included for compatability.</span>
<a name="l00150"></a>00150 <span class="comment">*/</span>
<a name="l00151"></a><a class="code" href="class_c_p_set.html#acbdd6338cfb52bde7a7749641f060f32">00151</a> - (id)initWithSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)aSet
<a name="l00152"></a>00152 {
<a name="l00153"></a>00153     <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#ac31a4921177d8d3abcbde7e1cdff8f6b">initWithSet</a>:aSet <a class="code" href="class_c_p_set.html#ac31a4921177d8d3abcbde7e1cdff8f6b">copyItems</a>:NO];
<a name="l00154"></a>00154 }
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 <span class="comment">/*</span>
<a name="l00157"></a>00157 <span class="comment">    Initializes a newly allocated set and adds to it members of another given set. Only included for compatability.</span>
<a name="l00158"></a>00158 <span class="comment">*/</span>
<a name="l00159"></a><a class="code" href="class_c_p_set.html#ac31a4921177d8d3abcbde7e1cdff8f6b">00159</a> - (id)initWithSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)aSet copyItems:(BOOL)shouldCopyItems
<a name="l00160"></a>00160 {
<a name="l00161"></a>00161     <span class="keyword">self</span> = [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#ad3e95a1d191fb88e3197c0655a24514f">init</a>];
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     <span class="keywordflow">if</span> (!aSet)
<a name="l00164"></a>00164         <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00165"></a>00165             
<a name="l00166"></a>00166     var contents = aSet._contents;
<a name="l00167"></a>00167     
<a name="l00168"></a>00168     <span class="keywordflow">for</span> (var property in contents)
<a name="l00169"></a>00169     {
<a name="l00170"></a>00170         <span class="keywordflow">if</span> (contents.hasOwnProperty(property))
<a name="l00171"></a>00171         {
<a name="l00172"></a>00172             <span class="keywordflow">if</span> (shouldCopyItems)
<a name="l00173"></a>00173                 [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a96ef95142642fef4affe50849b7f5cae">addObject</a>:[contents[property] copy]];
<a name="l00174"></a>00174             <span class="keywordflow">else</span>
<a name="l00175"></a>00175                 [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a96ef95142642fef4affe50849b7f5cae">addObject</a>:contents[property]];
<a name="l00176"></a>00176         }
<a name="l00177"></a>00177     }
<a name="l00178"></a>00178     
<a name="l00179"></a>00179     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00180"></a>00180 }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="comment">/*</span>
<a name="l00183"></a>00183 <span class="comment">    Returns an array containing the receiver’s members, or an empty array if the receiver has no members.</span>
<a name="l00184"></a>00184 <span class="comment">*/</span>
<a name="l00185"></a><a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">00185</a> - (<a class="code" href="class_c_p_array.html">CPArray</a>)allObjects
<a name="l00186"></a>00186 {
<a name="l00187"></a>00187     var array = [];
<a name="l00188"></a>00188     
<a name="l00189"></a>00189     <span class="keywordflow">for</span> (var property in _contents)
<a name="l00190"></a>00190     {
<a name="l00191"></a>00191         <span class="keywordflow">if</span> (_contents.hasOwnProperty(property))
<a name="l00192"></a>00192             array.push(_contents[property]);
<a name="l00193"></a>00193     }
<a name="l00194"></a>00194     
<a name="l00195"></a>00195     <span class="keywordflow">return</span> array;
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="comment">/*</span>
<a name="l00199"></a>00199 <span class="comment">    Returns one of the objects in the receiver, or nil if the receiver contains no objects.</span>
<a name="l00200"></a>00200 <span class="comment">*/</span>
<a name="l00201"></a><a class="code" href="class_c_p_set.html#a1ae53aaf4208da99cb88a6ae31fc2e84">00201</a> - (id)anyObject
<a name="l00202"></a>00202 {
<a name="l00203"></a>00203     <span class="keywordflow">for</span> (var property in _contents)
<a name="l00204"></a>00204     {
<a name="l00205"></a>00205         <span class="keywordflow">if</span> (_contents.hasOwnProperty(property))
<a name="l00206"></a>00206             <span class="keywordflow">return</span> _contents[property];
<a name="l00207"></a>00207     }
<a name="l00208"></a>00208     
<a name="l00209"></a>00209     <span class="keywordflow">return</span> nil;
<a name="l00210"></a>00210 }
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 <span class="comment">/*</span>
<a name="l00213"></a>00213 <span class="comment">    Returns a Boolean value that indicates whether a given object is present in the receiver.</span>
<a name="l00214"></a>00214 <span class="comment">    @param anObject The object for which to test membership of the receiver.</span>
<a name="l00215"></a>00215 <span class="comment">*/</span>
<a name="l00216"></a><a class="code" href="class_c_p_set.html#a43f885c9ac77c8039a6abfda763420ec">00216</a> - (BOOL)containsObject:(<span class="keywordtype">id</span>)anObject
<a name="l00217"></a>00217 {
<a name="l00218"></a>00218     <span class="keywordflow">if</span> (_contents[[anObject hash]] &amp;&amp; [_contents[[anObject hash]] isEqual:anObject])
<a name="l00219"></a>00219         <span class="keywordflow">return</span> YES;
<a name="l00220"></a>00220     
<a name="l00221"></a>00221     <span class="keywordflow">return</span> NO;
<a name="l00222"></a>00222 }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 <span class="comment">/*</span>
<a name="l00225"></a>00225 <span class="comment">    Returns the number of members in the receiver.</span>
<a name="l00226"></a>00226 <span class="comment">*/</span>
<a name="l00227"></a><a class="code" href="class_c_p_set.html#a04e5051667f80fa447f702ae620aa86c">00227</a> - (unsigned)count
<a name="l00228"></a>00228 {
<a name="l00229"></a>00229     <span class="keywordflow">return</span> _count;
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">//- (CPString)description;</span>
<a name="l00233"></a>00233 <span class="comment">//</span>
<a name="l00234"></a>00234 <span class="comment">//- (CPString)descriptionWithLocale:(CPDictionary)locale;</span>
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 <span class="comment">/*</span>
<a name="l00237"></a>00237 <span class="comment">    Returns a Boolean value that indicates whether at least one object in the receiver is also present in another given set.</span>
<a name="l00238"></a>00238 <span class="comment">    @param set The set with which to compare the receiver.</span>
<a name="l00239"></a>00239 <span class="comment">*/</span>
<a name="l00240"></a><a class="code" href="class_c_p_set.html#aa6f9a42906c3ab7f4e77c608aa36f446">00240</a> - (BOOL)intersectsSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00241"></a>00241 {
<a name="l00242"></a>00242     var items = [set <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>];
<a name="l00243"></a>00243     <span class="keywordflow">for</span> (var i = items.length; i &gt; 0; i--)
<a name="l00244"></a>00244     {
<a name="l00245"></a>00245         <span class="comment">// If the sets share at least one item, they intersect</span>
<a name="l00246"></a>00246         <span class="keywordflow">if</span> ([<span class="keyword">self</span> containsObject:items[i]])
<a name="l00247"></a>00247             <span class="keywordflow">return</span> YES;
<a name="l00248"></a>00248     }
<a name="l00249"></a>00249     
<a name="l00250"></a>00250     <span class="keywordflow">return</span> NO;
<a name="l00251"></a>00251 }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="comment">/*</span>
<a name="l00254"></a>00254 <span class="comment">    Compares the receiver to another set.</span>
<a name="l00255"></a>00255 <span class="comment">    @param set The set with which to compare the receiver.</span>
<a name="l00256"></a>00256 <span class="comment">*/</span>
<a name="l00257"></a><a class="code" href="class_c_p_set.html#a378489ea3178c61fafa019059d83a439">00257</a> - (BOOL)isEqualToSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00258"></a>00258 {    
<a name="l00259"></a>00259     <span class="comment">// If both are subsets of each other, they are equal</span>
<a name="l00260"></a>00260     <span class="keywordflow">return</span> <span class="keyword">self</span> === <span class="keyword">set</span> || ([<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a04e5051667f80fa447f702ae620aa86c">count</a>] === [set <a class="code" href="class_c_p_set.html#a04e5051667f80fa447f702ae620aa86c">count</a>] &amp;&amp; [set <a class="code" href="class_c_p_set.html#adb65922b7e256d6a05ece36bb32ee7c8">isSubsetOfSet</a>:self]);
<a name="l00261"></a>00261 }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 <span class="comment">/*</span>
<a name="l00264"></a>00264 <span class="comment">    Returns a Boolean value that indicates whether every object in the receiver is also present in another given set.</span>
<a name="l00265"></a>00265 <span class="comment">    @param set The set with which to compare the receiver.</span>
<a name="l00266"></a>00266 <span class="comment">*/</span>
<a name="l00267"></a><a class="code" href="class_c_p_set.html#adb65922b7e256d6a05ece36bb32ee7c8">00267</a> - (BOOL)isSubsetOfSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00268"></a>00268 {
<a name="l00269"></a>00269     var items = [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>];
<a name="l00270"></a>00270     <span class="keywordflow">for</span> (var i = 0; i &lt; items.length; i++)
<a name="l00271"></a>00271     {
<a name="l00272"></a>00272         <span class="comment">// If at least one item is not in both sets, self isn&apos;t a subset</span>
<a name="l00273"></a>00273         <span class="keywordflow">if</span> (![<span class="keyword">set</span> containsObject:items[i]])
<a name="l00274"></a>00274             <span class="keywordflow">return</span> NO;
<a name="l00275"></a>00275     }
<a name="l00276"></a>00276     
<a name="l00277"></a>00277     <span class="keywordflow">return</span> YES;
<a name="l00278"></a>00278 }
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 <span class="comment">/*</span>
<a name="l00281"></a>00281 <span class="comment">    Sends to each object in the receiver a message specified by a given selector.</span>
<a name="l00282"></a>00282 <span class="comment">    @param aSelector A selector that specifies the message to send to the members of the receiver. The method must not take any arguments. It should not have the side effect of modifying the receiver. This value must not be NULL.</span>
<a name="l00283"></a>00283 <span class="comment">*/</span>
<a name="l00284"></a><a class="code" href="class_c_p_set.html#a80a80ddefa89fe5276ab9985b5bbb519">00284</a> - (void)makeObjectsPerformSelector:(<span class="keywordtype">SEL</span>)aSelector
<a name="l00285"></a>00285 {
<a name="l00286"></a>00286     [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a653bcfd337154151ca38392dd53ba43b">makeObjectsPerformSelector</a>:aSelector <a class="code" href="class_c_p_set.html#a653bcfd337154151ca38392dd53ba43b">withObject</a>:nil];
<a name="l00287"></a>00287 }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 <span class="comment">/*</span>
<a name="l00290"></a>00290 <span class="comment">    Sends to each object in the receiver a message specified by a given selector.</span>
<a name="l00291"></a>00291 <span class="comment">    @param aSelector A selector that specifies the message to send to the receiver&apos;s members. The method must take a single argument of type id. The method should not, as a side effect, modify the receiver. The value must not be NULL.</span>
<a name="l00292"></a>00292 <span class="comment">    @param anObject The object to pass as an argument to the method specified by aSelector.</span>
<a name="l00293"></a>00293 <span class="comment">*/</span>
<a name="l00294"></a><a class="code" href="class_c_p_set.html#a653bcfd337154151ca38392dd53ba43b">00294</a> - (void)makeObjectsPerformSelector:(<span class="keywordtype">SEL</span>)aSelector withObject:(<span class="keywordtype">id</span>)argument
<a name="l00295"></a>00295 {
<a name="l00296"></a>00296     var items = [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>];
<a name="l00297"></a>00297     <span class="keywordflow">for</span> (var i = 0; i &lt; items.length; i++)
<a name="l00298"></a>00298     {
<a name="l00299"></a>00299         [items[i] performSelector:aSelector withObject:argument];
<a name="l00300"></a>00300     }
<a name="l00301"></a>00301 }
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="comment">/*</span>
<a name="l00304"></a>00304 <span class="comment">    Determines whether the receiver contains an object equal to a given object, and returns that object if it is present.</span>
<a name="l00305"></a>00305 <span class="comment">    @param anObject The object for which to test for membership of the receiver.</span>
<a name="l00306"></a>00306 <span class="comment">*/</span>
<a name="l00307"></a><a class="code" href="class_c_p_set.html#aff2740470881e2fd8445e284c36411d9">00307</a> - (id)member:(<span class="keywordtype">id</span>)object
<a name="l00308"></a>00308 {
<a name="l00309"></a>00309     <span class="keywordflow">if</span> ([<span class="keyword">self</span> containsObject:<span class="keywordtype">object</span>])
<a name="l00310"></a>00310         <span class="keywordflow">return</span> object;
<a name="l00311"></a>00311     
<a name="l00312"></a>00312     <span class="keywordflow">return</span> nil;
<a name="l00313"></a>00313 }
<a name="l00314"></a>00314 
<a name="l00315"></a><a class="code" href="class_c_p_set.html#a0cd4ebfc573afac8aa9d3b1a6ac91415">00315</a> - (<a class="code" href="class_c_p_enumerator.html">CPEnumerator</a>)objectEnumerator
<a name="l00316"></a>00316 {
<a name="l00317"></a>00317     <span class="keywordflow">return</span> [[<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>] <a class="code" href="class_c_p_array.html#a5d5d6488d823ab32b142a5cc246d288b">objectEnumerator</a>];
<a name="l00318"></a>00318 }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 <span class="comment">// Mutable Set Methods</span>
<a name="l00322"></a>00322 <span class="comment">/*</span>
<a name="l00323"></a>00323 <span class="comment">    Returns an initialized set with a given initial capacity.</span>
<a name="l00324"></a>00324 <span class="comment">    @param numItems, only present for compatability</span>
<a name="l00325"></a>00325 <span class="comment">*/</span>
<a name="l00326"></a><a class="code" href="class_c_p_set.html#ad0f8994e4b5c67fb8dee7077bca26334">00326</a> - (id)initWithCapacity:(<span class="keywordtype">unsigned</span>)numItems
<a name="l00327"></a>00327 {
<a name="l00328"></a>00328     <span class="comment">// Only here for compatability with Cocoa</span>
<a name="l00329"></a>00329     <span class="keyword">self</span> = [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#ad3e95a1d191fb88e3197c0655a24514f">init</a>];
<a name="l00330"></a>00330     <span class="keywordflow">return</span> <span class="keyword">self</span>;
<a name="l00331"></a>00331 }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 <span class="comment">/*</span>
<a name="l00334"></a>00334 <span class="comment">    Creates and returns a set with a given initial capacity.</span>
<a name="l00335"></a>00335 <span class="comment">    @param numItems, only present for compatability</span>
<a name="l00336"></a>00336 <span class="comment">*/</span>
<a name="l00337"></a><a class="code" href="class_c_p_set.html#a80e4ca60ae61ca1c96c016b63a59757b">00337</a> + (id)setWithCapacity:(<span class="keywordtype">unsigned</span>)numItems
<a name="l00338"></a>00338 {
<a name="l00339"></a>00339     <span class="keywordflow">return</span> [[<span class="keyword">self</span> alloc] initWithCapacity:numItems];
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 <span class="comment">/*</span>
<a name="l00343"></a>00343 <span class="comment">    Empties the receiver, then adds to the receiver each object contained in another given set.</span>
<a name="l00344"></a>00344 <span class="comment">    @param set The set whose members replace the receiver&apos;s content.</span>
<a name="l00345"></a>00345 <span class="comment">*/</span>
<a name="l00346"></a><a class="code" href="class_c_p_set.html#ae6bbdb6f25a535246e7c38af92a974ac">00346</a> - (void)setSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00347"></a>00347 {
<a name="l00348"></a>00348     [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#afa10d381f81831c01a15aabdea07ea3a">removeAllObjects</a>];
<a name="l00349"></a>00349     [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a0dfefb11bc61e19afc6c9168a90cbff2">addObjectsFromArray</a>:[set <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>]];
<a name="l00350"></a>00350 }
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <span class="comment">/*</span>
<a name="l00353"></a>00353 <span class="comment">    Adds a given object to the receiver.</span>
<a name="l00354"></a>00354 <span class="comment">    @param anObject The object to add to the receiver.</span>
<a name="l00355"></a>00355 <span class="comment">*/</span>
<a name="l00356"></a><a class="code" href="class_c_p_set.html#a96ef95142642fef4affe50849b7f5cae">00356</a> - (void)addObject:(<span class="keywordtype">id</span>)anObject
<a name="l00357"></a>00357 {
<a name="l00358"></a>00358     _contents[[anObject hash]] = anObject;
<a name="l00359"></a>00359     _count++;
<a name="l00360"></a>00360 }
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="comment">/*</span>
<a name="l00363"></a>00363 <span class="comment">    Adds to the receiver each object contained in a given array that is not already a member.</span>
<a name="l00364"></a>00364 <span class="comment">    @param array An array of objects to add to the receiver.</span>
<a name="l00365"></a>00365 <span class="comment">*/</span>
<a name="l00366"></a><a class="code" href="class_c_p_set.html#a0dfefb11bc61e19afc6c9168a90cbff2">00366</a> - (void)addObjectsFromArray:(<a class="code" href="class_c_p_array.html">CPArray</a>)array
<a name="l00367"></a>00367 {
<a name="l00368"></a>00368     <span class="keywordflow">for</span> (var i = 0, count = array.length; i &lt; count; i++) 
<a name="l00369"></a>00369     {
<a name="l00370"></a>00370         [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a96ef95142642fef4affe50849b7f5cae">addObject</a>:array[i]];
<a name="l00371"></a>00371     }
<a name="l00372"></a>00372 }
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 <span class="comment">/*</span>
<a name="l00375"></a>00375 <span class="comment">    Removes a given object from the receiver.</span>
<a name="l00376"></a>00376 <span class="comment">    @param anObject The object to remove from the receiver.</span>
<a name="l00377"></a>00377 <span class="comment">*/</span>
<a name="l00378"></a><a class="code" href="class_c_p_set.html#a734234d8bf9939c7b6484177b5646832">00378</a> - (void)removeObject:(<span class="keywordtype">id</span>)anObject
<a name="l00379"></a>00379 {
<a name="l00380"></a>00380     <span class="keywordflow">if</span> ([<span class="keyword">self</span> containsObject:anObject])
<a name="l00381"></a>00381     {
<a name="l00382"></a>00382         <span class="keyword">delete</span> _contents[[anObject hash]];
<a name="l00383"></a>00383         _count--;
<a name="l00384"></a>00384     }
<a name="l00385"></a>00385 }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="comment">/*</span>
<a name="l00388"></a>00388 <span class="comment">    Empties the receiver of all of its members.</span>
<a name="l00389"></a>00389 <span class="comment">*/</span>
<a name="l00390"></a><a class="code" href="class_c_p_set.html#afa10d381f81831c01a15aabdea07ea3a">00390</a> - (void)removeAllObjects
<a name="l00391"></a>00391 {
<a name="l00392"></a>00392     _contents = {};
<a name="l00393"></a>00393     _count = 0;
<a name="l00394"></a>00394 }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment">/*</span>
<a name="l00397"></a>00397 <span class="comment">    Removes from the receiver each object that isn’t a member of another given set.</span>
<a name="l00398"></a>00398 <span class="comment">    @param set The set with which to perform the intersection.</span>
<a name="l00399"></a>00399 <span class="comment">*/</span>
<a name="l00400"></a><a class="code" href="class_c_p_set.html#a27fa3f93afa7c3973f652205a39de102">00400</a> - (void)intersectSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00401"></a>00401 {
<a name="l00402"></a>00402     var items = [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>];
<a name="l00403"></a>00403     <span class="keywordflow">for</span> (var i = 0, count = items.length; i &lt; count; i++)
<a name="l00404"></a>00404     {
<a name="l00405"></a>00405         <span class="keywordflow">if</span> (![<span class="keyword">set</span> containsObject:items[i]])
<a name="l00406"></a>00406             [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a734234d8bf9939c7b6484177b5646832">removeObject</a>:items[i]];
<a name="l00407"></a>00407     }
<a name="l00408"></a>00408 }
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 <span class="comment">/*</span>
<a name="l00411"></a>00411 <span class="comment">    Removes from the receiver each object contained in another given set that is present in the receiver.</span>
<a name="l00412"></a>00412 <span class="comment">    @param set The set of objects to remove from the receiver.</span>
<a name="l00413"></a>00413 <span class="comment">*/</span>
<a name="l00414"></a><a class="code" href="class_c_p_set.html#a55bb219a7f62b3b3ff060bd9fcde01c8">00414</a> - (void)minusSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00415"></a>00415 {
<a name="l00416"></a>00416     var items = [set <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>];
<a name="l00417"></a>00417     <span class="keywordflow">for</span> (var i = 0; i &lt; items.length; i++)
<a name="l00418"></a>00418     {
<a name="l00419"></a>00419         <span class="keywordflow">if</span> ([<span class="keyword">self</span> containsObject:items[i]])
<a name="l00420"></a>00420             [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a734234d8bf9939c7b6484177b5646832">removeObject</a>:items[i]];
<a name="l00421"></a>00421     }
<a name="l00422"></a>00422 }
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="comment">/*</span>
<a name="l00425"></a>00425 <span class="comment">    Adds to the receiver each object contained in another given set</span>
<a name="l00426"></a>00426 <span class="comment">    @param set The set of objects to add to the receiver.</span>
<a name="l00427"></a>00427 <span class="comment">*/</span>
<a name="l00428"></a><a class="code" href="class_c_p_set.html#a50c0bee249d266196b2d8690442c4812">00428</a> - (void)unionSet:(<a class="code" href="class_c_p_set.html">CPSet</a>)set
<a name="l00429"></a>00429 {
<a name="l00430"></a>00430     var items = [set <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>];
<a name="l00431"></a>00431     <span class="keywordflow">for</span> (var i = 0, count = items.length; i &lt; count; i++)
<a name="l00432"></a>00432     {
<a name="l00433"></a>00433         [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a96ef95142642fef4affe50849b7f5cae">addObject</a>:items[i]];
<a name="l00434"></a>00434     }
<a name="l00435"></a>00435 }
<a name="l00436"></a>00436 
<a name="l00437"></a>00437 <span class="keyword">@end</span>
<a name="l00438"></a>00438 
<a name="l00439"></a>00439 <span class="keyword">@implementation </span><a class="code" href="class_c_p_set.html">CPSet</a> (CPCopying)
<a name="l00440"></a>00440 
<a name="l00441"></a><a class="code" href="class_c_p_set.html#a108f9edfccea8f158f091b6599defaa1">00441</a> - (id)<a class="code" href="class_c_p_set.html#a108f9edfccea8f158f091b6599defaa1">copy</a>
<a name="l00442"></a>00442 {
<a name="l00443"></a>00443     <span class="keywordflow">return</span> [[<a class="code" href="class_c_p_set.html">CPSet</a> alloc] initWithSet:self];
<a name="l00444"></a>00444 }
<a name="l00445"></a>00445 
<a name="l00446"></a><a class="code" href="class_c_p_set.html#a62daad29ddb0af719abc3f9e192dffa0">00446</a> - (id)<a class="code" href="class_c_p_set.html#a62daad29ddb0af719abc3f9e192dffa0">mutableCopy</a>
<a name="l00447"></a>00447 {
<a name="l00448"></a>00448     <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a108f9edfccea8f158f091b6599defaa1">copy</a>];
<a name="l00449"></a>00449 }
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 <span class="keyword">@end</span>
<a name="l00452"></a>00452 
<a name="l00453"></a><a class="code" href="_c_p_set_8j.html#a3dcb00844fab52d2df6d446299e75783">00453</a> var <a class="code" href="_c_p_set_8j.html#a3dcb00844fab52d2df6d446299e75783">CPSetObjectsKey</a> = <span class="stringliteral">@&quot;CPSetObjectsKey&quot;</span>;
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 <span class="keyword">@implementation </span><a class="code" href="class_c_p_set.html">CPSet</a> (CPCoding)
<a name="l00456"></a>00456 
<a name="l00457"></a><a class="code" href="class_c_p_set.html#ae5224a3d664649cf96587d00c9796042">00457</a> - (id)initWithCoder:(<a class="code" href="class_c_p_coder.html">CPCoder</a>)aCoder
<a name="l00458"></a>00458 {
<a name="l00459"></a>00459     <span class="keywordflow">return</span> [<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a77a28c90e845347fea965d0ea7fd4417">initWithArray</a>:[aCoder decodeObjectForKey:CPSetObjectsKey]];
<a name="l00460"></a>00460 }
<a name="l00461"></a>00461 
<a name="l00462"></a><a class="code" href="class_c_p_set.html#af4646071ccad11f7f84682ad25e16cee">00462</a> - (void)encodeWithCoder:(<a class="code" href="class_c_p_coder.html">CPCoder</a>)aCoder
<a name="l00463"></a>00463 {
<a name="l00464"></a>00464     [aCoder encodeObject:[<span class="keyword">self</span> <a class="code" href="class_c_p_set.html#a8b13bd927f67c3523d0bf03695fccd1b">allObjects</a>] forKey:CPSetObjectsKey];
<a name="l00465"></a>00465 }
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 <span class="keyword">@end</span>
<a name="l00468"></a>00468 
<a name="l00469"></a><a class="code" href="class_c_p_mutable_set.html">00469</a> <span class="keyword">@implementation </span><a class="code" href="class_c_p_mutable_set.html">CPMutableSet</a> : <a class="code" href="class_c_p_set.html">CPSet</a>
<a name="l00470"></a>00470 @end
<a name="l00471"></a>00471 
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0,'all')"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1,'classes')"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2,'files')"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3,'functions')"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4,'variables')"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5,'defines')"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<a href="javascript:searchBox.CloseResultsWindow()" 
   id="MSearchResultsWindowClose"
   onmouseover="return searchBox.OnCloseHighlight(true)"
   onmouseout="return searchBox.OnCloseHighlight(false)"><img border="0" src="search/close.png" alt=""/></a>
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Jul 5 21:41:28 2009 for Cappuccino by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.5.9-20090622 </small></address>
</body>
</html>
